# My Notes about Redis
My experience in projects & some cases to help  to keep in mind Redis basic 

* [How to Run Redis](#How)
* [List of Redis commands](#List)
* [RDB (Redis Database) & AOF (Append Only File) Modes](#RDB-AOF)
* [Examples of Redis commands on Python](#Examples)
* [Some cases using Redis](#Cases)
* [Example - how to use Redis with the popular Redis client for Python redis-py](#Client)
* [Recent case - Redis as Vector Database](#Vector)

<a id="How"></a>
## How to Run / Redis :
* #### Redis in Docker
```bash
docker run -d --name redis-container -p 6379:6379 redis
```
* #### Redis CLI in docker
```bash
docker exec -it redis-container redis-cli
```
* #### To install ```redis-py``` :
```bash
pip install redis
```
* #### Connecting to a default Redis instance, running locally.
```python
import redis

connection = redis.Redis()
connection.ping()    # True
```

* #### Connecting to a redis instance, specifying a host and port with credentials.
```python
import redis

user_connection = redis.Redis(host='localhost', port=6380, username='dvora', password='redis', decode_responses=True)
user_connection.ping()   # True
```
* #### Connecting to a redis instance with username and password credential provider
```python
import redis

creds_provider = redis.UsernamePasswordCredentialProvider("username", "password")
user_connection = redis.Redis(host="localhost", port=6379, credential_provider=creds_provider)
user_connection.ping()   # True
```

<a id="List"></a>
# List of Redis commands commonly used in Python applications
To use with the ```redis-py``` module:

* ## String Commands / Redis
```python
redis.set(key, value)            ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ value –≤ –∫–ª—é—á key.
redis.get(key)                   ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ key.
redis.delete(*keys)              ‚Üí –£–¥–∞–ª—è–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π.
redis.incr(key, amount=1)        ‚Üí –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ key –Ω–∞ amount (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é +1).
redis.decr(key, amount=1)        ‚Üí –£–º–µ–Ω—å—à–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ key –Ω–∞ amount (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -1).
redis.exists(key)                ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–ª—é—á (1, –µ—Å–ª–∏ –¥–∞, 0, –µ—Å–ª–∏ –Ω–µ—Ç).
redis.expire(key, seconds)       ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ key –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.
redis.ttl(key)                   ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–ª—é—á–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö).
redis.keys(pattern)              ‚Üí –ò—â–µ—Ç –≤—Å–µ –∫–ª—é—á–∏, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ —à–∞–±–ª–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, "user:*").
redis.type(key)                  ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á–∞ (string, list, set –∏ —Ç. –¥.).
redis.rename(old_key, new_key)   ‚Üí –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç old_key –≤ new_key (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ –Ω–æ–≤—ã–π –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å).
redis.renamenx(old_key, new_key) ‚Üí –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ new_key –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
redis.move(key, db)              ‚Üí –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∫–ª—é—á key –≤ –¥—Ä—É–≥—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (db).
redis.mset(mapping)              ‚Üí –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π —Å—Ä–∞–∑—É (–ø—Ä–∏–º–µ—Ä: {"k1": "v1", "k2": "v2"}).
redis.mget(keys)                 ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–∞–∑—É –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–π.
```

* ## Hash Commands / Redis
–•—ç—à–∏ –≤ Redis ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω—è—â–∏–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞.
```python
redis.hset(name, key, value)              ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–µ key —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º value –≤ —Ö—ç—à name.
redis.hget(name, key)                     ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è key –∏–∑ —Ö—ç—à–∞ name.
redis.hgetall(name)                       ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –≤–µ—Å—å —Ö—ç—à name (–∫–ª—é—á–∏ + –∑–Ω–∞—á–µ–Ω–∏—è).
redis.hdel(name, *keys)                   ‚Üí –£–¥–∞–ª—è–µ—Ç –æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –∏–∑ —Ö—ç—à–∞.
redis.hexists(name, key)                  ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª–µ key –≤ —Ö—ç—à–µ (1, –µ—Å–ª–∏ –¥–∞, 0, –µ—Å–ª–∏ –Ω–µ—Ç).
redis.hkeys(name)                         ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–∏ (–ø–æ–ª—è) –≤–Ω—É—Ç—Ä–∏ —Ö—ç—à–∞.
redis.hlen(name)                          ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π –≤ —Ö—ç—à–µ.
redis.hmget(name, keys)                   ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–∞–∑—É –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π.
redis.hmset(name, mapping)                ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π —Å—Ä–∞–∑—É ({"k1": "v1", "k2": "v2"}).
redis.hvals(name)                         ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ö—ç—à–∞.
redis.hincrby(name, key, amount=1)        ‚Üí –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è key –Ω–∞ amount.
redis.hincrbyfloat(name, key, amount=1.0) ‚Üí –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è key –Ω–∞ amount (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç float).
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.hset("user:1001", "name", "Alice")
redis.hget("user:1001", "name")  # –í–µ—Ä–Ω—ë—Ç "Alice"
–•—ç—à–∏ —É–¥–æ–±–Ω—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
```

* ## List Commands / Redis
–°–ø–∏—Å–∫–∏ –≤ Redis ‚Äî —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∞–Ω–∞–ª–æ–≥ –æ—á–µ—Ä–µ–¥–∏ –∏–ª–∏ —Å—Ç–µ–∫–∞).
```python
redis.rpush(key, *values)            ‚Üí –î–æ–±–∞–≤–ª—è–µ—Ç values –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞ key.
redis.lpush(key, *values)            ‚Üí –î–æ–±–∞–≤–ª—è–µ—Ç values –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ key.
redis.llen(key)                      ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–ª–∏–Ω—É —Å–ø–∏—Å–∫–∞ key.
redis.lrange(key, start, end)        ‚Üí –ü–æ–ª—É—á–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ —Å start –¥–æ end (–Ω–∞–ø—Ä–∏–º–µ—Ä, lrange("mylist", 0, -1) –≤–µ—Ä–Ω—ë—Ç –≤–µ—Å—å —Å–ø–∏—Å–æ–∫).
redis.lindex(key, index)             ‚Üí –ü–æ–ª—É—á–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É index –≤ —Å–ø–∏—Å–∫–µ.
redis.lset(key, index, value)        ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ value –≤ index —Å–ø–∏—Å–∫–∞.
redis.lrem(key, value, num=0)        ‚Üí –£–¥–∞–ª—è–µ—Ç num –≤—Ö–æ–∂–¥–µ–Ω–∏–π value –∏–∑ —Å–ø–∏—Å–∫–∞ (num > 0 ‚Äî —Å –Ω–∞—á–∞–ª–∞, < 0 ‚Äî —Å –∫–æ–Ω—Ü–∞, 0 ‚Äî –≤—Å–µ).
redis.lpop(key)                      ‚Üí –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞.
redis.rpop(key)                      ‚Üí –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞.
redis.rpoplpush(source, destination) ‚Üí –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ source –≤ –Ω–∞—á–∞–ª–æ destination.
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.rpush("queue", "task1", "task2")
redis.lpop("queue")  # –í–µ—Ä–Ω—ë—Ç "task1" –∏ —É–¥–∞–ª–∏—Ç –µ–≥–æ
–°–ø–∏—Å–∫–∏ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–µ–π –∏ —Å—Ç—ç–∫–æ–≤.
```

* ## Set Commands / Redis 
–ú–Ω–æ–∂–µ—Å—Ç–≤–∞ (Set) –≤ Redis ‚Äî —ç—Ç–æ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
```python
redis.sadd(key, *values)            ‚Üí –î–æ–±–∞–≤–ª—è–µ—Ç values –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ key (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).
redis.srem(key, *values)            ‚Üí –£–¥–∞–ª—è–µ—Ç values –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ key.
redis.spop(key)                     ‚Üí –£–¥–∞–ª—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
redis.srandmember(key, number=None) ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç number —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è).
redis.sismember(key, value)         ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ value –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ (1, –µ—Å–ª–∏ –¥–∞, 0, –µ—Å–ª–∏ –Ω–µ—Ç).
redis.scard(key)                    ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
redis.smembers(key)                 ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
redis.sunion(keys, *args)           ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤ keys.
redis.sinter(keys, *args)           ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤ keys.
redis.sdiff(keys, *args)            ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–Ω–æ–∂–µ—Å—Ç–≤ (keys[0] - keys[1] - ...).
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.sadd("users", "Alice", "Bob", "Charlie")
redis.sismember("users", "Alice")  # –í–µ—Ä–Ω—ë—Ç 1
redis.srem("users", "Bob")
```
–ú–Ω–æ–∂–µ—Å—Ç–≤–∞ —É–¥–æ–±–Ω—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).


* ## Sorted Set Commands / Redis
–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (Sorted Set, ZSET) ‚Äî —ç—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –Ω–æ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç —á–∏—Å–ª–æ–≤–æ–π "–≤–µ—Å" (score), –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
```python
redis.zadd(name, mapping)                             ‚Üí –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ name —Å –∏—Ö score (–ø—Ä–∏–º–µ—Ä: {"Alice": 10, "Bob": 20}).
redis.zrem(name, *values)                             ‚Üí –£–¥–∞–ª—è–µ—Ç values –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ name.
redis.zrange(name, start, end, withscores=False)      ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–Ω–¥–µ–∫—Å—É (–æ—Ç start –¥–æ end, 0 ‚Äî –ø–µ—Ä–≤—ã–π, -1 ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π).
redis.zrevrange(name, start, end, withscores=False)   ‚Üí –¢–æ –∂–µ, –Ω–æ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
redis.zrangebyscore(name, min, max, withscores=False) ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É score (min ‚â§ score ‚â§ max).
redis.zcard(name)                                     ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
redis.zscore(name, value)                             ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç score —ç–ª–µ–º–µ–Ω—Ç–∞ value.
redis.zincrby(name, value, amount=1)                  ‚Üí –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç score —ç–ª–µ–º–µ–Ω—Ç–∞ value –Ω–∞ amount.
redis.zcount(name, min, max)                          ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å score –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [min, max].
redis.zremrangebyrank(name, start, end)               ‚Üí –£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–Ω–¥–µ–∫—Å—É (start ‚Üí end).
redis.zremrangebyscore(name, min, max)                ‚Üí –£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ score (min ‚â§ score ‚â§ max).
redis.zremrangebylex(name, min, max)                  ‚Üí –£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–ª—é—á–∏ ‚Äî —Å—Ç—Ä–æ–∫–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–Ω–æ–π –¥–ª–∏–Ω—ã).
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.zadd("leaderboard", {"Alice": 100, "Bob": 200})
redis.zrange("leaderboard", 0, -1, withscores=True)  
# [('Alice', 100.0), ('Bob', 200.0)]
redis.zincrby("leaderboard", "Alice", 50)  
# –¢–µ–ø–µ—Ä—å Alice: 150
```
Sorted Set –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á.

* ## List Blocking Commands / Redis
–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ—á–µ—Ä–µ–¥—è–º–∏ (Lists) ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç.
–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞, —Ç–æ –≤–æ—Ç –≤–∞—à–∏ —Ç—Ä–∏ –≤–µ—Ä–Ω—ã—Ö —Å–æ—Ä–∞—Ç–Ω–∏–∫–∞:
```python
redis.blpop(keys, timeout) ‚Üí –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π LPOP.
–ñ–¥–µ—Ç, –ø–æ–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –≤ –Ω–∞—á–∞–ª–µ —Å–ø–∏—Å–∫–∞ keys, –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None, –µ—Å–ª–∏ –∏—Å—Ç–µ–∫ timeout.
–ü—Ä–∏–º–µ—Ä: ¬´–≠–π, Redis, –¥–∞–π –º–Ω–µ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç!¬ª ‚Äî ¬´–ü–æ–¥–æ–∂–¥–∏, –æ–Ω –µ—â—ë –Ω–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª—Å—è‚Ä¶¬ª

redis.brpop(keys, timeout) ‚Üí –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π RPOP.
–†–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –Ω–æ –∂–¥–µ—Ç —ç–ª–µ–º–µ–Ω—Ç —Å –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞.
–ò–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤—ã—Ö ‚Äî –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ –ø–æ–µ–ª–∏.

redis.brpoplpush(source, destination, timeout) ‚Üí –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è –≤–µ—Ä—Å–∏—è RPOPLPUSH.
–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∏ –∂–¥–µ—Ç, –ø–æ–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –≤ source, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ destination (–∞–Ω–∞–ª–æ–≥ RPOPLPUSH).
–¢–∏–ø–∏—á–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ñ–∏—Å–∞: ¬´–ú–Ω–µ –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å‚Ä¶ –û, –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞!¬ª

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

keys ‚Äî —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –ø–æ—Ä—è–¥–∫–µ, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç –Ω–µ–ø—É—Å—Ç–æ–π).
timeout ‚Äî –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö, 0 ‚Äî –∂–¥–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ).
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.blpop("queue", 5)  # –ü–æ–¥–æ–∂–¥—ë—Ç 5 —Å–µ–∫—É–Ω–¥, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç
redis.brpoplpush("tasks", "processing", 10)  # –û–∂–∏–¥–∞–Ω–∏–µ 10 —Å–µ–∫, –µ—Å–ª–∏ –∑–∞–¥–∞—á –Ω–µ—Ç
```
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—è—Ö:
```python
redis.rpush("queue", "task1", "task2")
redis.blpop("queue", 5)  # –í–µ—Ä–Ω—ë—Ç ('queue', 'task1'), –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞
–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π –∑–∞–¥–∞—á.
```

* ## Pub/Sub Commands / Redis
Redis Pub/Sub ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –†–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ —Ä–∞–¥–∏–æ: –æ–¥–Ω–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –¥—Ä—É–≥–∏–µ –∏—Ö —Å–ª—É—à–∞—é—Ç.
```python
redis.publish(channel, message)  ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç message –≤ channel (–µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–¥–ø–∏—Å–∞–Ω ‚Äî –æ–Ω –ø–æ–ª—É—á–∏—Ç –µ–≥–æ).
redis.subscribe(*channels)       ‚Üí –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ channels, —Å–ª—É—à–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
redis.unsubscribe(*channels)     ‚Üí –û—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç channels.
redis.psubscribe(*patterns)      ‚Üí –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–Ω–∞–ª—ã –ø–æ —à–∞–±–ª–æ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "news.*" ‚Äî –≤—Å–µ –∫–∞–Ω–∞–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å news.).
redis.punsubscribe(*patterns)    ‚Üí –û—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫.
```
–ü—Ä–∏–º–µ—Ä:
–ü—É–±–ª–∏–∫–∞—Ü–∏—è:
```python
redis.publish("news.sports", "–§—É—Ç–±–æ–ª —Å–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º!")
```
–ü–æ–¥–ø–∏—Å—á–∏–∫:
```python
pubsub = redis.pubsub()
pubsub.subscribe("news.sports")
for message in pubsub.listen():
    print(message)  # –ë—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ "news.sports"
```
–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (—á–∞—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ª–∞–π–≤-—Ç—Ä–µ–∫–µ—Ä—ã).
–°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–µ—à–∞).
–ü—Ä–æ—Å—Ç–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π! üöÄ


* ## Transaction Commands / Redis
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ Redis –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –∞—Ç–æ–º–∞—Ä–Ω–æ, —Ç. –µ. –ª–∏–±–æ –≤—Å–µ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è, –ª–∏–±–æ –Ω–∏ –æ–¥–Ω–∞.
```python
redis.watch(*keys)   ‚Üí –°–ª–µ–¥–∏—Ç –∑–∞ keys, –µ—Å–ª–∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –¥–æ execute(), —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–º–µ–Ω–∏—Ç—Å—è.
redis.unwatch()      ‚Üí –ü–µ—Ä–µ—Å—Ç–∞—ë—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∫–ª—é—á–∞–º–∏, –æ—Ç–º–µ–Ω—è—è —ç—Ñ—Ñ–µ–∫—Ç watch().
redis.multi()        ‚Üí –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (–ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É, –∞ —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å).
redis.execute()      ‚Üí –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ multi().
redis.discard()      ‚Üí –û—Ç–º–µ–Ω—è–µ—Ç –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ multi().
```
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```python
redis.watch("balance")  
current_balance = int(redis.get("balance"))  

if current_balance >= 50:
    pipeline = redis.pipeline()  # –í–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    pipeline.multi()
    pipeline.decr("balance", 50)
    pipeline.incr("items_bought", 1)
    pipeline.execute()  # –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
else:
    redis.unwatch()  # –û—Ç–º–µ–Ω—è–µ–º —Å–ª–µ–∂–∫—É, –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
```
üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ì–∞—Ä–∞–Ω—Ç–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–∞–Ω–∏–µ –¥–µ–Ω–µ–≥, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏).
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏ (race condition).

* ## Connection Commands / Redis
–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º Redis.
```python
redis.auth(password)  ‚Üí –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å password (–µ—Å–ª–∏ Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è).
redis.select(db)      ‚Üí –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö db (–≤ Redis –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 16 –ë–î, –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å 0).
redis.echo(message)   ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç message (—É–¥–æ–±–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è).
redis.quit()          ‚Üí –ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.
```
–ü—Ä–∏–º–µ—Ä:
```python
redis.auth("my_secret_password")  
redis.select(1)  
print(redis.echo("Hello Redis!"))  # –í—ã–≤–µ–¥–µ—Ç: b'Hello Redis!'  
redis.quit()  
```
üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
```python
auth() ‚Äî –µ—Å–ª–∏ Redis —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å.
select() ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–∑.
echo() ‚Äî –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
quit() ‚Äî –¥–ª—è —è–≤–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
```

* ## Server Commands / Redis
–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞ Redis.
```python
redis.info(section=None) ‚Üí –í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ (–µ—Å–ª–∏ section=None ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–∞, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å "memory", "cpu", "stats", "replication" –∏ —Ç. –¥.).
redis.monitor()          ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—É–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏).
redis.bgsave()           ‚Üí –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ RDB-—Ñ–∞–π–ª (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞).
redis.bgrewriteaof()     ‚Üí –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç AOF (Append Only File), –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—è –µ–≥–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞.
```
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```python
print(redis.info("memory"))  # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
redis.bgsave()  # –°–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é (RDB)
redis.bgrewriteaof()  # –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç AOF
```

üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
```python
info()         ‚Üí –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.
monitor()      ‚Üí –û—Ç–ª–∞–¥–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
bgsave()       ‚Üí –ë—ç–∫–∞–ø—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π.
bgrewriteaof() ‚Üí –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è AOF.
```

----
<a id="RDB-AOF"></a>
## RDB (Redis Database) & AOF (Append Only File)
RDB –∏ AOF ‚Äî —ç—Ç–æ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Redis. –ö–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

* ### RDB (Redis Database)
–û–ø–∏—Å–∞–Ω–∏–µ:
RDB ‚Äî —ç—Ç–æ —Ñ–∞–π–ª —Å–Ω–∏–º–∫–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Redis, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏. –û–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –º–æ–º–µ–Ω—Ç —Å–Ω–∏–º–∫–∞.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

Redis –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Ñ–∞–π–ª .rdb, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –∏–ª–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–π (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).
–°–Ω–∏–º–∫–∏ –¥–µ–ª–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —á—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–µ—Ä.
#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Ç.–∫. —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å).
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –±—ç–∫–∞–ø–∏—Ä–æ–≤–∞–Ω–∏—è).
#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–Ω–∏–º–∫–∞–º–∏ (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–Ω–∏–º–∫–∞, –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã).
### –ö–æ–º–∞–Ω–¥—ã:
```
BGSAVE ‚Äî –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.
SAVE ‚Äî –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–µ—Ä).
```

* ### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –≤—Ä—É—á–Ω—É—é
```python
import redis

redis_client = redis.StrictRedis(host='localhost', port=6379, db=0)

# –°–æ–∑–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ
redis_client.set("key1", "value1")
redis_client.set("key2", "value2")

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (RDB)
redis_client.bgsave()
```
üîπ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è bgsave() Redis —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª dump.rdb –≤ –ø–∞–ø–∫–µ /var/lib/redis/ (–º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è).

* ### –ü—Ä–∏–º–µ—Ä 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ –≤ —Ñ–∞–π–ª–µ redis.conf:

```ini
save 900 1   # –°–æ—Ö—Ä–∞–Ω—è—Ç—å, –µ—Å–ª–∏ –±—ã–ª–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 900 —Å–µ–∫—É–Ω–¥ (15 –º–∏–Ω—É—Ç)
save 300 10  # –ï—Å–ª–∏ –∑–∞ 5 –º–∏–Ω—É—Ç –±—ã–ª–æ 10 –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
save 60 1000 # –ï—Å–ª–∏ –∑–∞ 1 –º–∏–Ω—É—Ç—É –±—ã–ª–æ 1000 –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
```
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Redis:
```bash
redis-cli shutdown
redis-server /etc/redis/redis.conf
```

* ### –ü—Ä–∏–º–µ—Ä 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ RDB
–ï—Å–ª–∏ Redis –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ —Ñ–∞–π–ª dump.rdb –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±–∞–∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```python
print(redis_client.get("key1"))  # b'value1'
```


* ### AOF (Append Only File)
–û–ø–∏—Å–∞–Ω–∏–µ:
AOF ‚Äî —ç—Ç–æ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∑–∞–ø–∏—Å–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Redis (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö). –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –∫–æ–º–∞–Ω–¥ –≤ —Ñ–∞–π–ª –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
–ö–æ–≥–¥–∞ Redis –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –æ–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ AOF, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö, —Ç.–∫. –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª.
–í—ã—Å–æ–∫–∞—è —Å—Ç–µ–ø–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∫–∞–∫ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø–∏—Å–∏.
#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, —Ç.–∫. –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è.
–ë–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å RDB (–Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ AOF).
–ö–æ–º–∞–Ω–¥—ã:
```
BGREWRITEAOF ‚Äî –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç AOF, —É–º–µ–Ω—å—à–∞—è –µ–≥–æ —Ä–∞–∑–º–µ—Ä, —É–¥–∞–ª—è—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ.
AOF (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, always, everysec, no).
```

* ### –ü—Ä–∏–º–µ—Ä 1: –í–∫–ª—é—á–µ–Ω–∏–µ AOF —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
–í —Ñ–∞–π–ª–µ redis.conf –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ AOF:

```ini
appendonly yes      # –í–∫–ª—é—á–∞–µ–º AOF
appendfsync everysec  # –ó–∞–ø–∏—Å—å –∫–æ–º–∞–Ω–¥ –≤ —Ñ–∞–π–ª –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
```
–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Redis:
```bash
redis-cli shutdown
redis-server /etc/redis/redis.conf
```
–¢–µ–ø–µ—Ä—å –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ appendonly.aof.

* ### –ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å AOF –≤—Ä—É—á–Ω—É—é
```python
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è AOF-—Ñ–∞–π–ª–∞ (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞)
redis_client.bgrewriteaof()
```
–≠—Ç–æ —É–¥–∞–ª–∏—Ç –ª–∏—à–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ —É–º–µ–Ω—å—à–∏—Ç —Ä–∞–∑–º–µ—Ä appendonly.aof.

* ### –ü—Ä–∏–º–µ—Ä 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ AOF
–ï—Å–ª–∏ Redis –∑–∞–ø—É—â–µ–Ω —Å appendonly yes, —Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –æ–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–∏–≥—Ä–∞–≤ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ appendonly.aof.


* ### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ RDB –∏ AOF

| –ü–∞—Ä–∞–º–µ—Ç—Ä               | RDB                                                        | AOF |
| ---------------------- | -------------------------------------------------------------- | ------------------------------------------------------------------- |
| –¢–∏–ø —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è         | –°–Ω–∏–º–∫–∏ (–ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã)                                 | –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º) |
| –ß–∞—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π     | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç) | –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å     | –ë—ã—Å—Ç—Ä–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞                       | –ú–µ–Ω—å—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç.–∫. –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ |
| –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö  | –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–∑–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞)                 | –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π) |
| –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö          | –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–Ω–∏–º–∫–∞–º–∏                                   | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ          | –î–ª—è –±—ç–∫–∞–ø–æ–≤ –∏–ª–∏ –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —á–∞—Å—Ç–æ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ –≤—ã—Å–æ–∫–∞   | –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö |


* ### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RDB + AOF
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RDB –∏ AOF –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±–µ–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
RDB –æ–±–µ—Å–ø–µ—á–∏—Ç –±—ã—Å—Ç—Ä—ã–µ —Å–Ω–∏–º–∫–∏ –±–∞–∑—ã, –∞ AOF –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–∏–ª—É—á—à—É—é —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö.

–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –æ–±–∞ –º–µ—Ç–æ–¥–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Redis:
* ### –ü—Ä–∏–º–µ—Ä 1 : –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RDB + AOF
```bash
save 900 1  # –°–Ω–∏–º–æ–∫ –∫–∞–∂–¥—É—é 1 –º–∏–Ω—É—Ç—É, –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 1 –∏–∑–º–µ–Ω–µ–Ω–∏–µ
appendonly yes  # –í–∫–ª—é—á–∏—Ç—å AOF - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
appendfsync everysec  # –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
```

* ### –ü—Ä–∏–º–µ—Ä 2 : –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RDB + AOF
–ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤ redis.conf:

```ini
save 60 1000  # –°–Ω–∏–º–æ–∫ —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É –ø—Ä–∏ 1000 –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
appendonly yes  # –í–∫–ª—é—á–∏—Ç—å AOF - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
appendfsync everysec  # –ó–∞–ø–∏—Å—å –∫–æ–º–∞–Ω–¥ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
```
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–∞—ë—Ç –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

### –í—ã–≤–æ–¥:
–ï—Å–ª–∏ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **RDB**.

–ï—Å–ª–∏ –≤–∞–∂–Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **AOF**.

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–æ–º–ø—Ä–æ–º–∏—Å—Å ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ–±–∞**. üöÄ


---
<a id="Examples"></a>
## üî• –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Redis —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É redis-py:

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```python
import redis

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
redis_client = redis.StrictRedis(host='localhost', port=6379, db=0, password=None)
```
#### –†–∞–±–æ—Ç–∞ —Å –∫–ª—é—á–∞–º–∏
```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–ª—é—á–∞
redis_client.set('my_key', 'Hello, Redis!')

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–∞
value = redis_client.get('my_key')
print(value)  # b'Hello, Redis!'

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞
redis_client.delete('my_key')

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª—é—á–∞
exists = redis_client.exists('my_key')
print(exists)  # 0 (False)
```

#### –†–∞–±–æ—Ç–∞ —Å —Ö—ç—à–∞–º–∏ (Hash)
```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ö—ç—à–∞
redis_client.hset('my_hash', 'field1', 'value1')
redis_client.hset('my_hash', 'field2', 'value2')

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É –≤ —Ö—ç—à–µ
value = redis_client.hget('my_hash', 'field1')
print(value)  # b'value1'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π —Ö—ç—à–∞
hash_values = redis_client.hgetall('my_hash')
print(hash_values)  # {b'field1': b'value1', b'field2': b'value2'}

# –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤ —Ö—ç—à–µ
redis_client.hdel('my_hash', 'field1')
```

#### –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ (List)
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–æ–∫ (—Å–ø—Ä–∞–≤–∞ –∏ —Å–ª–µ–≤–∞)
redis_client.rpush('my_list', 'value1', 'value2', 'value3')
redis_client.lpush('my_list', 'value0')

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞
list_values = redis_client.lrange('my_list', 0, -1)
print(list_values)  # [b'value0', b'value1', b'value2', b'value3']

# –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–∫–∞
popped_value = redis_client.lpop('my_list')
print(popped_value)  # b'value0'
```

#### –†–∞–±–æ—Ç–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ (Set)
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
redis_client.sadd('my_set', 'apple', 'banana', 'cherry')

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ
is_member = redis_client.sismember('my_set', 'apple')
print(is_member)  # True

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
set_members = redis_client.smembers('my_set')
print(set_members)  # {b'apple', b'banana', b'cherry'}

# –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
redis_client.srem('my_set', 'banana')
```

#### –†–∞–±–æ—Ç–∞ —Å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ (Sorted Set)
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –±–∞–ª–ª–∞–º–∏ (score)
redis_client.zadd('my_sorted_set', {'Alice': 100, 'Bob': 200, 'Charlie': 150})

# –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
sorted_set_values = redis_client.zrange('my_sorted_set', 0, -1, withscores=True)
print(sorted_set_values)  # [(b'Alice', 100.0), (b'Charlie', 150.0), (b'Bob', 200.0)]

# –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –±–∞–ª–ª–æ–º –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
range_by_score = redis_client.zrangebyscore('my_sorted_set', 100, 150, withscores=True)
print(range_by_score)  # [(b'Alice', 100.0), (b'Charlie', 150.0)]
```

#### –†–∞–±–æ—Ç–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (MULTI/EXEC)
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
pipeline = redis_client.pipeline()

# –ü–æ–º–µ—â–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –≤ –æ—á–µ—Ä–µ–¥—å
pipeline.set('key1', 'value1')
pipeline.set('key2', 'value2')
pipeline.incr('counter')

# –í—ã–ø–æ–ª–Ω—è–µ–º –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
responses = pipeline.execute()
print(responses)  # [True, True, 1]
```

#### –†–∞–±–æ—Ç–∞ —Å Pub/Sub (–ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –ø–æ–¥–ø–∏—Å–∫–∞)
```python
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∫–∞–Ω–∞–ª—É
pubsub = redis_client.pubsub()

# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
pubsub.subscribe('my_channel')

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
redis_client.publish('my_channel', 'Hello, subscribers!')

# –ü–æ–ª—É—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
for message in pubsub.listen():
    print(message)  # –í—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
```python
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ Redis
for command in redis_client.monitor():
    print(command)  # –í—ã–≤–æ–¥–∏—Ç –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

#### –†–∞–±–æ—Ç–∞ —Å RDB –∏ AOF
```python
# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ RDB
redis_client.bgsave()

# –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å AOF
redis_client.bgrewriteaof()
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
```python
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
redis_client.select(1)
```
–≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Redis —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É redis-py. 

----
<a id="Cases"></a>
## üî• –ü—Ä–∏–º–µ—Ä—ã –∫–µ–π—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis 

* ## 1. Caching
Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≤–∞—à–µ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö. –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Redis –≤ Python
```python
import redis

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

def get_data_from_cache(key):
    # Check if data exists in the cache
    if r.exists(key):
        # Retrieve data from the cache
        data = r.get(key)
        return data.decode('utf-8')  # Convert bytes to string
    else:
        # Fetch data from the primary data source
        data = fetch_data_from_source()

        # Store data in the cache with a timeout of 1 hour
        r.setex(key, 3600, data)
        return data
```
* ## 2. Pub/Sub (Publish/Subscribe):
Redis –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω pub/sub, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. –í–æ—Ç –ø—Ä–∏–º–µ—Ä:
```python
import redis
import time

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

def publish_message(channel, message):
    # Publish a message to the specified channel
    r.publish(channel, message)

def subscribe_channel(channel):
    # Subscribe to a channel and process incoming messages
    pubsub = r.pubsub()
    pubsub.subscribe(channel)

    for message in pubsub.listen():
        print(message['data'].decode('utf-8'))  # Process the received message
```
* ## 3. Rate Limiting:
Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏. –ü—Ä–∏–º–µ—Ä:
```python
import redis

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

def check_rate_limit(ip_address):
    # Increment the request count for the IP address
    request_count = r.incr(ip_address)

    # If the count exceeds the limit (e.g., 100 requests per minute), deny the request
    if request_count > 100:
        return False

    return True
```
* ## 4. Session Storage:
Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–µ–∞–Ω—Å–∞ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ü—Ä–∏–º–µ—Ä:
```python
import redis
import uuid

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

def create_session(user_id):
    # Generate a unique session ID
    session_id = str(uuid.uuid4())

    # Store the session data in Redis with a timeout of 30 minutes
    r.setex(session_id, 1800, user_id)

    return session_id

def get_user_id_from_session(session_id):
    # Retrieve the user ID from the session data in Redis
    user_id = r.get(session_id)

    if user_id is not None:
        return user_id.decode('utf-8')  # Convert bytes to string
    else:
        return None
```
* ## 5. Leaderboard:
Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤ –∏–ª–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤. –ü—Ä–∏–º–µ—Ä:
```python
import redis

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

def update_score(player_id, score):
    # Update the score of a player
    r.zadd('leaderboard', {player_id: score})

def get_leaderboard():
    # Get the top 10 players from the leaderboard
    leaderboard = r.zrevrange('leaderboard', 0, 9, withscores=True)

    for player, score in leaderboard:
        print(f"Player: {player.decode('utf-8')}, Score: {score}")
```
–≠—Ç–æ –ª–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ç–æ–≥–æ, –∫–∞–∫ Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Python. Redis –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –º–æ—â–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

<a id="Client"></a>
## ‚ö°Ô∏è Example that demonstrates how to use Redis with the redis-py - popular Redis client for Python.

Redis  ‚Äì —ç—Ç–æ –±—ã—Å—Ç—Ä–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–∞ ¬´–∫–ª—é—á‚Äë–∑–Ω–∞—á–µ–Ω–∏–µ¬ª –≤ –ø–∞–º—è—Ç–∏ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π redis-py, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º Redis –¥–ª—è Python.
```python
$ pip install redis

import redis

# Create a Redis client
r = redis.Redis(host='localhost', port=6379, db=0)

# String Operations
r.set('mykey', 'Hello Redis!')
value = r.get('mykey')
print(value)  # Output: b'Hello Redis!'

# List Operations
r.lpush('mylist', 'element1')
r.lpush('mylist', 'element2')
r.rpush('mylist', 'element3')
elements = r.lrange('mylist', 0, -1)
print(elements)  # Output: [b'element2', b'element1', b'element3']

# Set Operations
r.sadd('myset', 'member1')
r.sadd('myset', 'member2')
r.sadd('myset', 'member3')
members = r.smembers('myset')
print(members)  # Output: {b'member2', b'member1', b'member3'}

# Hash Operations
r.hset('myhash', 'field1', 'value1')
r.hset('myhash', 'field2', 'value2')
value = r.hget('myhash', 'field1')
print(value)  # Output: b'value1'

# Sorted Set Operations
r.zadd('mysortedset', {'member1': 1, 'member2': 2, 'member3': 3})
members = r.zrange('mysortedset', 0, -1)
print(members)  # Output: [b'member1', b'member2', b'member3']

# Delete a key
r.delete('mykey')

# Close the Redis connection
r.close()
```

---

<a id="Vector"></a>
## üî• Redis as a Vector Database ‚ö°Ô∏è
This case was applied recently in my LLM project with RAG. 

it is possible to use Redis instead of Pinecone or Milvus or Weaviate or ChromaDB, for example.

### Run in docker
It is necessary to use ```redis-stack``` !
```bash
docker run -d --name redis-stack -p 6379:6379 -p 8001:8001 redis/redis-stack:latest redis-server --appendonly yes
```

### Connect to Redis
```python
import redis

# Connect to Redis
redis_client = redis.Redis(
            host=REDIS_HOST,
            port=REDIS_PORT,
            password=REDIS_PASSWORD,
            socket_timeout=30,  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º-–∞—É—Ç
            socket_connect_timeout=30  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º-–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        )
        if self.redis_client.ping():
            print("...Connection successful!")
```
### drop index
```python
# drop index
index_name = INDEX_NAME  
try:
    self.redis_client.ft(index_name).dropindex()  # ‚Äî —É–¥–∞–ª—è–µ—Ç RediSearch-–∏–Ω–¥–µ–∫—Å
    print("...Index dropped")
except:
    # Index does not exist
    print("...Index does not exist")
```

### load embeddings to redis 
```python
# load embeddings to redis 
vector_dim = len(embeddings[0]["vector"])  # length of the vectors

# Initial number of vectors
vector_number = len(embeddings)

# Define RediSearch fields
text = TextField(name="text")                                      # –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
text_embedding = VectorField("vector",                             # –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª–µ
                             "FLAT", {
                                 "TYPE": "FLOAT32",                # —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (32-–±–∏—Ç–Ω—ã–µ float)
                                 "DIM": vector_dim,                # —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–æ–≤
                                 "DISTANCE_METRIC": "COSINE",      # –º–µ—Ç—Ä–∏–∫–∞ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
                                 "INITIAL_CAP": vector_number,     # –Ω–∞—á–∞–ª—å–Ω–∞—è –µ–º–∫–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞
                             }
                             )
fields = [text, text_embedding]
```

### Create RediSearch Index
```python
# Create RediSearch Index

# Check if index exists
try:
    self.redis_client.ft(INDEX_NAME).info()    # –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω–¥–µ–∫—Å–µ. –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å–∞ –Ω–µ—Ç, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç except, –∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π
    print("...Index already exists")
except:
    # Create RediSearch Index
    self.redis_client.ft(INDEX_NAME).create_index(    # —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π RediSearch-–∏–Ω–¥–µ–∫—Å
        fields=fields,
        definition=IndexDefinition(                   
            prefix=[PREFIX],                          # —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫ –∫–ª—é—á–∞–º, –Ω–∞—á–∏–Ω–∞—é—â–∏–º—Å—è —Å PREFIX
            index_type=IndexType.HASH                 # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HASH –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        )
    )
```

### load embeddings to redis
```python
# load embeddings to redis
for embedding in embeddings:
    key = f"{PREFIX}:{str(embedding['id'])}"              # –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
    embedding["vector"] = np.array(embedding["vector"], dtype=np.float32).tobytes()  # —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –≤–µ–∫—Ç–æ—Ä –≤ bytes
    self.redis_client.hset(key, mapping=embedding)        # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç –∫–∞–∫ HASH –≤ Redis
print(
    f"Loaded {self.redis_client.info()['db0']['keys']} documents in Redis search index with name: {INDEX_NAME}")  # –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –≤ –±–∞–∑–µ db0

```

### Search vector in database Redis
```python
    def search_redis(self,
                     user_query: str,
                     index_name: str = "embeddings-index",
                     vector_field: str = "vector",
                     return_fields: list = ["text", "vector_score"],
                     hybrid_fields="*",
                     k: int = 5,
                     print_results: bool = False,
                     ):
        # Creates embedding vector from user query
        embedded_query = client.embeddings.create(
            input=user_query,
            model="text-embedding-ada-002"
        ).data[0].embedding
        # Prepare the Query
        base_query = f"{hybrid_fields}=>[KNN {k} @{vector_field} $vector AS vector_score]"  # –∏—â–µ—Ç k –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π –ø–æ –ø–æ–ª—é vector_field
        query = (
            Query(base_query)
            .return_fields(*return_fields)            # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è (text, vector_score)
            .sort_by("vector_score")                  # —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ vector_score
            .paging(0, k)                             # –∑–∞–¥–∞–µ—Ç –ª–∏–º–∏—Ç k
            .dialect(2)        # –≤–µ—Ä—Å–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ RediSearch. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è dialect(1)
        )
        params_dict = {
            "vector": np.array(embedded_query).astype(dtype=np.float32).tobytes()
        }
        # perform vector search
        results = self.redis_client.ft(index_name).search(query, params_dict)    # –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫
        if print_results:
            for i, doc in enumerate(results.docs):
                score = 1 - float(doc.vector_score)
                print(f"...{i}. {doc.text} (Score: {round(score, 3)})")
        return [doc["text"] for doc in results.docs]
```

### Call: 
```python
# keywords - to search
# Get the results
results = search_redis(keywords, print_results=True)
```
–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è search_redis() :
* –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç keywords –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.
* –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤ Redis.
* –í—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∏—Ö —Å—Ö–æ–¥—Å—Ç–≤–æ–º.

üöÄ –≠—Ç–æ—Ç –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Redis –∫–∞–∫ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π!

 –ö–æ–º–∞–Ω–¥—ã Redis, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ:

ping() ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

dropindex() ‚Äî —É–¥–∞–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å.

info() ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞.

create_index() ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å.

hset() ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ HASH.

info()['db0']['keys'] ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π.

search() ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä—É.


## –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å –≤ Redis?
–í Redis –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ RediSearch (–º–æ–¥—É–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞).

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∞ –≤ Redis:
–ù–µ —è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (–∫–∞–∫ –≤ SQL)

–í –æ–±—ã—á–Ω–æ–º Redis –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤.
–ü–æ–∏—Å–∫ –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–∞–º (keys *) –∏–ª–∏ —á–µ—Ä–µ–∑ —Ö–µ—à–∏, –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏ —Å–ø–∏—Å–∫–∏.
RediSearch –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–∫–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –±—ã—Å—Ç—Ä–µ–µ.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫, –ø–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä—É, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –ø–æ–ª—è–º.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å JSON –∏–ª–∏ —Ö–µ—à–∏ –≤ Redis, —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏.
–ò–Ω–¥–µ–∫—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–∫–∞—Ç—å –ø–æ —Ç–µ–∫—Å—Ç—É, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —á–∏—Å–ª–∞–º, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

### üîπ –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤ Redis? (–ü—Ä–∏–º–µ—Ä —Å RediSearch)
  
#### 1Ô∏è‚É£ –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—Å—Ç –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ):

```python
from redis.commands.search.field import TextField, VectorField

text = TextField(name="text")  # –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
vector = VectorField("vector", "FLAT", {  
    "TYPE": "FLOAT32",
    "DIM": 1536,  # –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞
    "DISTANCE_METRIC": "COSINE"
})
fields = [text, vector]
```
#### 2Ô∏è‚É£ –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–µ–∫—Å

```python
from redis.commands.search.indexDefinition import IndexDefinition, IndexType

INDEX_NAME = "embeddings-index"

redis_client.ft(INDEX_NAME).create_index(
    fields=fields,
    definition=IndexDefinition(
        prefix=["doc:"],  # –ü—Ä–µ—Ñ–∏–∫—Å –∫–ª—é—á–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è
        index_type=IndexType.HASH
    )
)
```
#### 3Ô∏è‚É£ –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ

```python
redis_client.hset("doc:1", mapping={"text": "–ü—Ä–∏–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞", "vector": vector_data})
```
#### 4Ô∏è‚É£ –î–µ–ª–∞–µ–º –ø–æ–∏—Å–∫

```python
query = Query("*").return_fields("text").sort_by("text")
results = redis_client.ft(INDEX_NAME).search(query)
```

### üîπ –ö–∞–∫–∏–µ —Ç–∏–ø—ã –∏–Ω–¥–µ–∫—Å–æ–≤ –µ—Å—Ç—å –≤ Redis?

| –¢–∏–ø –∏–Ω–¥–µ–∫—Å–∞	| –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| RediSearch (FT Index)	| –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã |
| Secondary Indexes (ZSET, HASH)	| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ–ª—è–º |
| Primary Index (–∫–ª—é—á–∏ Redis)	| –û–±—ã—á–Ω—ã–µ –∫–ª—é—á–∏ Redis, –ø–æ–∏—Å–∫ –ø–æ keys * (–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ) |

### ‚úÖ –í—ã–≤–æ–¥:

–ò–Ω–¥–µ–∫—Å –≤ Redis ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–º–æ–≥–∞—é—â–∞—è –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ RediSearch (–¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–∏—Å–∫–∞ –ø–æ –≤–µ–∫—Ç–æ—Ä—É).

## –ß–µ–º –∏–Ω–¥–µ–∫—Å –≤ Redis –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö?

| –§–∞–∫—Ç–æ—Ä	| –û–±—ã—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)	| –ò–Ω–¥–µ–∫—Å—ã (RediSearch –∏ –¥—Ä.) |
|---|---|---|
| –•—Ä–∞–Ω–µ–Ω–∏–µ	 | –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ (String, Hash, List, Set, ZSet)	| –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
| –ü–æ–∏—Å–∫	 | –ü–æ–∏—Å–∫ –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É (GET key)	| –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ —Ç–µ–∫—Å—Ç—É, —á–∏—Å–ª–∞–º, –≤–µ–∫—Ç–æ—Ä—É
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è	 | –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏	| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (WHERE age > 30)
| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞	 | –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ –∫–æ–¥–µ –∏–ª–∏ SORT	| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å	 | –ë—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É, –Ω–æ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ	| –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ	 | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –æ—á–µ—Ä–µ–¥–∏	| –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

üîπ –ü—Ä–∏–º–µ—Ä —Ä–∞–∑–Ω–∏—Ü—ã
–û–±—ã—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Redis (–±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞)
python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
redis_client.hset("user:1", mapping={"name": "Alex", "age": "30"})
redis_client.hset("user:2", mapping={"name": "Bob", "age": "25"})

# –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É
user = redis_client.hgetall("user:1")
‚úÖ –ë—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ–ª—å–∑—è –∏—Å–∫–∞—Ç—å –≤—Å–µ—Ö, —É –∫–æ–≥–æ age > 25.

–ò–Ω–¥–µ–∫—Å –≤ Redis (—Å RediSearch)
python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from redis.commands.search.field import TextField, NumericField
from redis.commands.search.indexDefinition import IndexDefinition, IndexType

fields = [
    TextField(name="name"),
    NumericField(name="age")
]

# –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–µ–∫—Å
redis_client.ft("user_index").create_index(fields=fields, definition=IndexDefinition(prefix=["user:"]))

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫
query = Query("age:[25 35]").return_fields("name", "age")
results = redis_client.ft("user_index").search(query)
‚úÖ –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞.

üîπ –í—ã–≤–æ–¥
–û–±—ã—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Redis —Ö–æ—Ä–æ—à–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —á—Ç–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É.
–ò–Ω–¥–µ–∫—Å—ã –≤ Redis (–Ω–∞–ø—Ä–∏–º–µ—Ä, RediSearch) –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –ø–æ–ª—è–º, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.


---
### Contact me: u123@ua.fm
